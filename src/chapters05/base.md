# RegExp 基础使用

## 字符类别（Character Classes）

| 字符     | 含义                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `.`      | (`点号`，`小数点`) 匹配任意单个`字符`，但是`行结束符`除外：`\n` `\r` `\u2028` 或 `\u2029`。<br/> 在字符集中，点( `.` )失去其特殊含义，并匹配一个字面点( `.` )。<br/> 需要注意的是，`m` 多行（`multiline`）标志不会改变`点号`的表现。因此为了匹配多行中的字符集，可使用`[^]` （当然你不是打算用在旧版本 `IE` 中），它将会匹配`任意字符`，包括`换行符`。<br/> 例如，`/.y/` 匹配 `yes make my day` 中的 `my` 和 `ay`，但是不匹配 `yes`。                                                                        |
| `\d`     | 匹配任意`阿拉伯数字`。等价于`[0-9]`。<br/> 例如，`/\d/` 或 `/[0-9]/` 匹配 `B2 is the suite number.` 中的 `2`。                                                                                                                                                                                                                                                                                                                                                                                               |
| `\D`     | 匹配任意一个不是`阿拉伯数字`的`字符`。等价于`[^0-9]`。<br/> 例如，`/\D/` 或 `/[^0-9]/` 匹配 `B2 is the suite number.` 中的 `B`。                                                                                                                                                                                                                                                                                                                                                                             |
| `\w`     | 匹配任意来自基本`拉丁字母表`中的`字母数字字符`，还包括`下划线`。等价于 `[A-Za-z0-9_]`。<br/> 例如，`/\w/` 匹配 `apple` 中的 `a`，`$5.28` 中的 `5` 和 `3D` 中的 `3`。                                                                                                                                                                                                                                                                                                                                         |
| `\W`     | 匹配任意不是基本`拉丁字母表`中单词（`字母数字下划线`）字符的字符。等价于 `[^A-Za-z0-9_]`。<br/> 例如，`/\W/` 或 `/[^A-Za-z0-9_]/` 匹配 `50%` 中的 `%`。                                                                                                                                                                                                                                                                                                                                                      |
| `\s`     | 匹配一个`空白符`，包括`空格`、`制表符`、`换页符`、`换行符`和其他 `Unicode 空格`。<br/> 等价于 `[ \f\n\r\t\v​\u00a0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​ \u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​​\u202f\u205f​ \u3000]`。<br/> 例如 `/\s\w*/` 匹配 `foo bar` 中的 ` bar`。                                                                                                                                                                                                              |
| `\S`     | 匹配一个`非空白符`。等价于 `[^ \f\n\r\t\v​\u00a0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​ \u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​\u202f\u205f​\u3000]`。<br/> 例如，`/\S\w*/` 匹配 `foo bar` 中的 `foo`。                                                                                                                                                                                                                                                                                  |
| `\t`     | 匹配一个`水平制表符`（tab）                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `\r`     | 匹配一个`回车符`（carriage return）                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `\n`     | 匹配一个`换行符`（linefeed）                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `\v`     | 匹配一个`垂直制表符`（vertical tab）                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `\f`     | 匹配一个`换页符`（form-feed）                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `[\b]`   | 匹配一个`退格符`（backspace）（不要与 `\b` 混淆）                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `\0`     | 匹配一个 `NUL` 字符。不要在此后面跟`小数点`。                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `\cX`    | `X` 是 `A - Z` 的一个字母。匹配字符串中的一个`控制字符`。<br/> 例如，`/\cM/` 匹配字符串中的 `control-M`。                                                                                                                                                                                                                                                                                                                                                                                                    |
| `\xhh`   | 匹配编码为 `hh` （两个`十六进制`数字）的字符。                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `\uhhhh` | 匹配 `Unicode` 值为 `hhhh` （四个`十六进制`数字）的字符。                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `\`      | 对于那些通常被认为`字面意义`的`字符`来说，表示下一个`字符`具有`特殊用处`，并且不会被按照`字面意义`解释。<br/> 例如 `/b/` 匹配字符 `b`。在 `b` 前面加上一个反斜杠，即使用 `/\b/`，则该字符变得特殊，会匹配一个`单词边界`。<br/> 或 对于那些通常`特殊对待`的`字符`，表示下一个`字符`不具有`特殊用途`，会被按照`字面意义`解释。<br/> 例如，`*` 是一个`特殊字符`，表示匹配某个字符 `0` 或`多次`，如 `/a*/` 意味着 `0` 或多个 `a`。 为了匹配字面意义上的 `*` ，在它前面加上一个`反斜杠`，例如，`/a\*/`匹配 `a*`。 |

---

## 字符集合（Character Sets）

| 字符     | 含义                                                                                                                                                                                                                              |
| :------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `[xyz]`  | 一个`字符集合`，也叫`字符组`。匹配集合中的任意一个`字符`。你可以使用连字符`-`指定一个`范围`。<br/> 例如，`[abcd]` 等价于 `[a-d]`，匹配`brisket`中的`b`和`chop`中的`c`。                                                           |
| `[^xyz]` | 一个`反义`或`补充字符集`，也叫`反义字符组`。也就是说，它匹配任意不在`括号`内的`字符`。你也可以通过使用连字符 `-` 指定一个范围内的字符。<br/> 例如，`[^abc]` 等价于 `[^a-c]`。 第一个匹配的是 `bacon` 中的`o` 和 `chop` 中的 `h`。 |

---

## 边界（Boundaries）

| 字符 | 含义                                                                                                                                                                                                                                                                                                        |
| :--- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `^`  | 匹配`输入开始`。等价于:`[\t\n\v\f\r \u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000]`，如果多行（`multiline`）标志被设为 `true`，该字符也会匹配一个断行（`line break`）符后的`开始处`。<br/> 例如，`/^A/` 不匹配 `an A` 中的 `A`，但匹配 `An A` 中的 `A`。 |
| `$`  | 匹配`输入结尾`。如果多行（`multiline`）标志被设为 `true`，该字符也会匹配一个断行（`line break`）符的前的结尾处。<br/> 例如，`/t$/` 不匹配 `eater` 中的 `t`，但匹配 `eat` 中的 `t`。                                                                                                                         |
| `\b` | 匹配一个`零宽单词`边界（`zero-width word boundary`），如一个`字母`与一个`空格`之间。 （不要和 `[\b]` 混淆）<br/> 例如，`/\bno/` 匹配 `at noon` 中的 `no`，`/ly\b/` 匹配 `possibly yesterday.` 中的 `ly`。                                                                                                   |
| `\B` | 匹配一个`零宽非单词`边界（`zero-width non-word boundary`），如两个`字母`之间或两个`空格`之间。<br/> 例如，用`/\Bno/` 匹配 `at noon`是匹配不到的，用`/\Bon/` 匹配 `at noon` 中的 `on`，/ye\B/ 匹配 `possibly yesterday.` 中的 `ye`。                                                                         |

## 分组（grouping）与反向引用（back references）

| 字符    | 含义                                                                                                                                                                                                                                                                                                                                                                                           |
| :------ | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `(x)`   | 匹配 `x` 并且捕获`匹配项`。 这被称为`捕获括号`（`capturing parentheses`）。<br/> 例如，/(foo)/ 匹配且捕获 `foo bar.` 中的 `foo`。被匹配的子字符串可以在结果数组的元素 `[1], ..., [n]` 中找到，或在被定义的 `RegExp` 对象的属性 `$1, ..., $9` 中找到。<br/> 捕获组（`Capturing groups`）有性能惩罚。如果不需再次访问被匹配的子字符串，最好使用非捕获括号（non-capturing parentheses），见下面。 |
| `\n`    | `n` 是一个`正整数`。一个`反向引用`（`back reference`），指向`正则表达式`中第 `n` 个括号（从左开始数）中匹配的`子字符串`。<br/> 例如，`/apple(,)\sorange\1/` 匹配 `apple, orange, cherry, peach.` 中的 `apple,orange,`。一个更全面的例子在该表格下面。                                                                                                                                          |
| `(?:x)` | 匹配 `x` 不会捕获`匹配项`。这被称为`非捕获括号`（`non-capturing parentheses`）。`匹配项`不能够从`结果数组`的元素 `[1], ..., [n]` 或已被定义的 `RegExp` 对象的属性 `$1, ..., $9` 再次访问到。                                                                                                                                                                                                   |

## 数量词（Quantifiers）

| 字符        | 含义                                                                                                                                                                                                                                                                                                                                                                                              |
| :---------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `x*`        | 匹配前面的模式 `x` `0` 或`多次`。<br/> 例如，`/bo*/` 匹配 `A ghost booooed` 中的 `boooo`，`A bird warbled` 中的 `b`，但是不匹配 `A goat grunted`。                                                                                                                                                                                                                                                |
| `x+`        | 匹配前面的模式 `x` `1` 或`多次`。等价于 `{1,}`。<br/> 例如，`/a+/` 匹配 `candy` 中的 `a`，`caaaaaaandy` 中所有的 `a`。                                                                                                                                                                                                                                                                            |
| `x*?` `x+?` | 像上面的 `*` 和 `+` 一样匹配前面的模式 `x`，然而匹配是`最小可能匹配`。<br/> 例如，`/.*?/` 匹配 `foo bar` 的 `空格`，而 `*` 后面没有 `?` 时匹配 `foo bar`，即`'foo bar.'.match(/.*/)`的值为`["foo bar.", index: 0, input: "foo bar.", groups: undefined]`。                                                                                                                                        |
| `x?`        | 匹配前面的模式 `x` `0` 或 `1` 次。<br/> 例如，`/e?le?/` 匹配 `angel` 中的 `el`，`angle` 中的 `le`。<br/> 如果在数量词 `*`、`+`、`?` 或 `{}`, 任意一个后面紧跟该符号（`?`），会使`数量词`变为非贪婪（`non-greedy`） ，即匹配次数最小化。反之，默认情况下，是贪婪的（greedy），即匹配次数最大化。<br/> 在使用于`向前断言`（`lookahead assertions`）时，见该表格中 `(?=)`、`(?!)` 和 `(?:)` 的说明。 |
| `x(?=y)`    | 只有当 `x` 后面紧跟着 `y` 时，才匹配 `x`。 例如，`/Jack(?=Sprat)/` 只有在 `Jack` 后面紧跟着 `Sprat` 时，才会匹配它。`/Jack(?=Sprat|Frost)/` 只有在 `Jack` 后面紧跟着 `Sprat` 或 `Frost` 时，才会匹配它。然而，`Sprat` 或 `Frost` 都不是匹配结果的一部分。                                                                                                                                         |
| `x(?!y)`    | 只有当 `x` 后面不是紧跟着 `y` 时，才匹配 `x`。例如，/`\d+(?!\.)/` 只有当一个数字后面没有紧跟着一个小数点时，才会匹配该数字。<br/> `/\d+(?!\.)/.exec('3.141')` 匹配 `141` 而不是 `3.141`。                                                                                                                                                                                                         |
| `x|y`       | 匹配 `x` 或 `y`<br/> 例如，`/green|red/` 匹配 `green apple` 中的 `green`，`red apple.` 中的 `red`。                                                                                                                                                                                                                                                                                               |
| `x{n}`      | `n` 是一个正整数。前面的模式 `x` 连续出现 `n` 次时匹配。<br/> 例如，`/a{2}/` 不匹配 `candy,` 中的 `a`，但是匹配 `caandy,` 中的两个 `a`，且匹配 `caaandy.` 中的前两个 `a`。                                                                                                                                                                                                                        |
| `x{n,}`     | `n` 是一个正整数。前面的模式 `x` 连续出现至少 `n` 次时匹配。<br/> 例如，`/a{2,}/` 不匹配 `candy` 中的 `a`，但是匹配 `caandy` 和 `caaaaaaandy.` 中所有的 `a`，`'caaaaaaandy.'.match(/a{2,}/)`的值为`["aaaaaaa", index: 1, input: "caaaaaaandy.", groups: undefined]`。                                                                                                                             |
| `x{n,m}`    | `n` 和 `m` 为正整数。前面的模式 `x` 连续出现至少 `n` 次，至多 `m` 次时匹配。<br/> 例如，`/a{1,3}/` 不匹配 `cndy`，匹配 `candy,` 中的 `a`，`caandy,` 中的两个 `a`，匹配 `caaaaaaandy` 中的前面三个 `a`。注意，当匹配 `caaaaaaandy` 时，即使`原始字符串`拥有更多的 `a`，匹配项也是 `aaa`，即`'caaaaaaandy.'.match(/a{1,3}/)`的值为`["aaa", index: 1, input: "caaaaaaandy.", groups: undefined]`。   |

## 断言（Assertions）

| 字符     | 含义                                                                                                                                                                                                                           |
| :------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `x(?=y)` | 仅匹配被`y`跟随的`x`。<br/> 举个例子，`/Jack(?=Sprat)/`，如果`Jack`后面跟着`sprat`，则匹配之。<br/> `/Jack(?=Sprat|Frost)/` ，如果`Jack`后面跟着`Sprat`或者`Frost`，则匹配之。但是，`Sprat` 和`Frost` 都不会在匹配结果中出现。 |
| `x(?!y)` | 仅匹配不被`y`跟随的`x`。<br/> 举个例子，`/\d+(?!\.)/` 只会匹配不被点（`.`）跟随的数字。<br/> `/\d+(?!\.)/.exec('3.141')` 匹配`141`，而不是`3.141`                                                                              |

## MDN 地址

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions